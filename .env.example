########################################
# Kuroji API â€” Environment Variables
########################################

## === App Settings ===
PORT=3000                                # Port to run the server (default: 3000)
PUBLIC_URL=http://localhost:3000         # Public API URL (optional)

## === CORS ===
# Comma-separated list of allowed origins
# Example: https://example.com,https://app.example.com
# Use * to allow all origins
CORS=http://localhost:3000

## === Update Settings ===
ANIME_UPDATE_ENABLED=true                # Enable automatic anime updates
ANIME_INDEXER_UPDATE_ENABLED=true        # Enable anime indexer updates

ANIME_POPULARITY_THRESHOLD=1500 # Skips indexing animes with less than that number of popularity

## === External APIs ===
ANILIST=https://graphql.anilist.co
ANILIBRIA=https://aniliberty.top/api/v1
ANI_ZIP=https://api.ani.zip
SHIKIMORI=https://shikimori.one
KITSU=https://kitsu.app/api/edge
TMDB=https://api.themoviedb.org/3
TVDB=https://api4.thetvdb.com/v4
JIKAN=https://api.jikan.moe/v4

## === Crysoline API ===
# Reliable source for anime data
# We haven't released it publicly yet, but soon!
CRYSOLINE_API_KEY=your_api_key_here

## === API Keys ===
# External service keys (optional)
TMDB_API_KEY=
TVDB_API_KEY=

## === Rate Limiting ===
RATE_LIMIT=0                             # Requests per window (0 = disabled)
RATE_LIMIT_TTL=60                        # Time window in seconds

## === Pagination Defaults ===
DEFAULT_PER_PAGE=25                      # Items per page
DEFAULT_PAGE=1                           # Starting page number

## === Admin ===
# Optional key with full API access
ADMIN_KEY=

## === Strategy ===
# all_routes = all routes will require api key
# not_required = all routes do not require the api key
API_KEY_STRATEGY= # (default: not_required)

## === WHITELIST ===
# Routes that will not be affected by api key requirement and rate limit
ROUTES_WHITELIST=/docs,/docs/openapi

## === BLACKLIST ===
# Routes that will be always affected by api key requirement and rate limit
ROUTES_BLACKLIST=

## === Redis ===
CACHING_ENABLED=true                               # Enable Redis cache
REDIS_TTL=900                          # Cache TTL in seconds (default: 900)

# redis://[:password]@host:port/db
# Local w/o password:   redis://localhost:6379
# Local w/ password:    redis://:mypassword@localhost:6379
REDIS_URL=redis://localhost:6379

## === Database ===

# Number of database operations to process in a single batch.
# Higher values = fewer round trips, but bigger transactions.
# Warning: setting this too high can cause timeouts or lock contention.
TRANSACTION_BATCH=10

# PostgreSQL connection string:
# postgresql://<user>:<password>@<host>:<port>/<db_name>
DATABASE_URL=postgresql://prisma:postgres@localhost:5432/kuroji

## === Hostings ===

# If you use vercel, set this to true
VERCEL=false

# If you use render, set this to true, this enables self polling so the service didnt go into inactive
RENDER=false

NODE_ENV=production
