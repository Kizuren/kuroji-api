model Animepahe {
  /// @DtoReadOnly
  /// @DtoCreateOptional
  /// @DtoUpdateOptional
  id    String @id
  idMal Int? // Changed to match JSON
  idAl  Int?   @unique // Changed to match JSON

  // Title object fields
  titleEnglish  String? // title.english
  titleRomaji   String? // title.romaji
  titleJapanese String? // title.japanese

  synonyms      String[] // Array of synonyms
  description   String?
  image         String?
  banner        String? // New field from JSON
  airedEpisodes Int?
  totalEpisodes Int? // New field from JSON

  updatedAt Int @default(0)

  // Metadata fields (merged from metadata object)
  year         Int?
  season       String? // metadata.season
  status       String? // metadata.status
  type         String?
  startDate    String?
  endDate      String?
  duration     String?
  genres       String[]
  studios      String[]
  themes       String[] // New field from metadata.themes
  demographics String[] // New field from metadata.demographics

  /// @DtoRelationCanCreateOnCreate
  /// @DtoRelationCanConnectOnCreate
  episodes AnimepaheEpisode[] @relation("AnimepaheEpisode")
  /// @DtoRelationCanCreateOnCreate
  /// @DtoRelationCanConnectOnCreate
  externalLinks AnimepaheExternalLink[] @relation("AnimepaheExLink")

  /// @DtoRelationCanConnectOnCreate
  anilist Anilist? @relation(fields: [idAl], references: [id])
}

model AnimepaheEpisode {
  /// @DtoReadOnly
  /// @DtoCreateOptional
  /// @DtoUpdateOptional
  id     String  @id
  number Int?
  title  String?
  image  String?

  // Episode metadata (merged from metadata object)
  duration String? // metadata.duration
  url      String? // metadata.url

  /// @DtoRelationCanConnectOnCreate
  animepahe Animepahe[] @relation("AnimepaheEpisode")
}

model AnimepaheExternalLink {
  /// @DtoReadOnly
  /// @DtoCreateOptional
  /// @DtoUpdateOptional
  id         String @id
  url        String
  sourceName String

  /// @DtoRelationCanConnectOnCreate
  animepahe Animepahe[] @relation("AnimepaheExLink")
}
