model Mappings {
  id Int @id

  mappings Mapping[] @relation("MappingsToMapping")
  episodes Episode[] @relation("MappingsToEpisode")

  anilist Anilist? @relation(fields: [id], references: [id])
}

model Mapping {
  id String @id @default(cuid())

  sourceId   String
  sourceName String

  mappingsId Int
  parent     Mappings @relation("MappingsToMapping", fields: [mappingsId], references: [id])

  @@unique([sourceId, sourceName])
}

model Episode {
  id Int @id

  number   Int
  title    String?
  overview String?
  image    String?
  runtime  Int?
  date     String?

  mappingsId Int
  parent     Mappings @relation("MappingsToEpisode", fields: [mappingsId], references: [id])
}
